<!DOCTYPE html></body>
<html>
<head>
    <title>Mapbox GL JS </title>
    <meta charset='utf-8'>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v1.1.0/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v1.1.0/mapbox-gl.css' rel='stylesheet' />

    <style>
        body {
        margin: 0;
        padding: 0;
      }

      #map {
        position: absolute;
        top: 50px;
        bottom: 0;
        width: 100%;
      }

      #top {
        position: absolute;
        top: 0;
        height: 50px;
        width: 100%;
        background-color: rgb(12, 3, 44)  
      }
    </style>
</head>

<body>
        <div id='top'>
            <button>点击</button>
        </div>
        <div id='map'></div>
        <script>
        mapboxgl.accessToken = 'pk.eyJ1Ijoic2t5MSIsImEiOiJjang0NDlsOG0wMGZrNDNxdzJ5M3Zqb3cwIn0.j7l8P7wr53pSG7OHpbvMUg';
        var map = new mapboxgl.Map({
        container: 'map',
        zoom: 14,
        center: [116.397398,39.908305],
       // style: 'mapbox://styles/mapbox/streets-v9'//标准版
       // style: 'mapbox://styles/mapbox/satellite-v9'//影像版
        style: '/data/root.json'
        
        });
        

map.on('load', function () {

  
    map.addLayer({
        "id": "route",
        "type": "line",
        "source": {
        	"type": "geojson",
        	"data": "/data/line.geojson",
        	"maxzoom":11
        },
        "layout": {
            "line-join": "miter",
            "line-cap": "round"
        },
        "paint": {
            //"line-color": "#fff",
            "line-color": "hsla(100, 50%, 50%, 1)",
            "line-width": 8
        }
    });

 
map.loadImage('/image/point.png', function(error, image) {
                if (error) throw error;
                map.addImage('cat', image);
                map.addLayer({
                "id": "points",
                "type": "symbol",
                "source": {
                "type": "geojson",
                "data": {
                "type": "FeatureCollection",
                "features": [{
                "type": "Feature",
                "geometry": {
                "type": "Point",
                "coordinates": [116.373797, 39.919731]
                }
                }]
                }
                },
                "layout": {
                "icon-rotation-alignment":"map",
                "icon-image": "cat",
                "icon-size": 0.4
                }
                });
                });
               


    // map.addLayer({
    //     "id": "route",
    //     "type": "line",
    //     "source": {
    //         "type": "geojson",
    //         "data": {
    //             "type": "Feature",
    //             "properties": {},
    //             "geometry": {
    //                 "type": "LineString",
    //                 "coordinates": [
    //                 [116.38141724279112,39.959521560926255],[116.38053138904753,39.95561528507907],[116.38747833728269,39.95596465014333],[116.38802526600885,39.9392281117129],[116.38991873598287,39.93865553555284],[116.39045609966695,39.92690686676253],[116.3929836903857,39.926724370038926],[116.39321824987191,39.92216352437114],[116.390577689177,39.92206303508393],[116.39057780884501,39.921125073854675],[116.38594147234875,39.921024683005726],[116.38639247491227,39.91151888732591],[116.38581974749104,39.911489138386564],[116.38559406966871,39.90983031163676],[116.38643567229427,39.90981794194045],[116.38601029502459,39.90648026981393],[116.38931899874014,39.906589036610235],[116.38977892281763,39.898303268788574],[116.3914546798841,39.897175906062195],[116.39286083252063,39.87079992466838],[116.34439482296591,39.86734466344273],[116.34286685211785,39.86866425075562],[116.3433014848119,39.872244304945156],[116.3381186019074,39.87230954983404],[116.33775419787649,39.87391513198898],[116.33606980439106,39.87479617912206],[116.32838727860867,39.87381067665213],[116.32023678316239,39.87554723576728],[116.31522844705265,39.87369892613975],[116.3155748323292,39.88029593469725],[116.31652966256321,39.88029611084531],[116.31732815666017,39.88575131745312],[116.31830093446537,39.88575145246712],[116.31806614085124,39.88837677787005],[116.32055742534479,39.888424989670185],[116.3196293492886,39.89006069697909],[116.31968151120348,39.89576433260845],[116.3311481750204,39.89605535921975],[116.3309045617012,39.89737476001742],[116.32920347042366,39.89711800069556],[116.32981943502801,39.90210060542414],[116.32866484193212,39.90392372207498],[116.3291951415311,39.907786542645155],[116.32830082715967,39.91063412402041],[116.32855287764991,39.92149318432938],[116.32691165010414,39.937235678642786],[116.3247595811892,39.937374800980585],[116.32459479755093,39.938664065869965],[116.32296253721663,39.938811198468635],[116.32181689056894,39.94105931281751],[116.3263821623056,39.94280447013883],[116.33184284009293,39.94157612755337],[116.33273693864142,39.94061748321651],[116.33351803797667,39.94171997478866],[116.33498488817722,39.94061728419142],[116.33747719191241,39.94193663736346],[116.34044568194152,39.94227125253153],[116.34418783830053,39.941576694136465],[116.34552397023316,39.942401366691335],[116.34463041352593,39.945552772230585],[116.34522073225267,39.949181615125816],[116.34905783806003,39.95043614181886],[116.35001327155629,39.948057683133776],[116.35018655804114,39.94316159814562],[116.35439757265645,39.94370499300102],[116.3657366837127,39.947209446214615],[116.36415451093158,39.96652260443275],[116.37416772728204,39.96677682389987],[116.37467062143043,39.9713211937094],[116.38784321473292,39.971458900275685],[116.38791263260406,39.96798701358621],[116.38376176381652,39.96700090720778],[116.38403088710638,39.9648088526164],[116.38194727730459,39.96419204994114],[116.38194741654844,39.963102093062304],[116.3827978524305,39.963120592549394],[116.3828150185136,39.961735637602075],[116.3817737149532,39.96170025420798],[116.38141724279112,39.959521560926255]

    //                 ]
    //             }
    //         }
    //     },
    //     "layout": {
    //         "line-join": "round",
    //         "line-cap": "round"
    //     },
    //     "paint": {
    //         "line-color": "#888",
    //         "line-width": 8
    //     }
    // });
});
</script>

</body>